{"version":3,"sources":["components/Navbar.js","components/Footer.js","components/screens/Home.js","components/screens/Profile.js","components/screens/Signin.js","components/screens/Signup.js","components/screens/CreatePost.js","components/screens/UserProfile.js","components/screens/UpdatePost.js","components/screens/myFeed.js","components/screens/ViewPost.js","reducers/userReducer.js","App.js","serviceWorker.js","index.js"],"names":["NavBar","searchModal","useRef","sideNav","useState","search","setSearch","userDetails","setUserDetails","useContext","UserContext","state","dispatch","history","useHistory","useEffect","M","Modal","init","current","Sidenav","draggable","renderList","key","onClick","getInstance","close","data-target","className","style","color","cursor","to","localStorage","clear","type","toast","html","classes","push","id","ref","placeholder","value","onChange","e","query","target","fetch","method","headers","body","JSON","stringify","then","res","json","results","users","catch","err","console","log","autoFocus","map","item","_id","float","padding","src","pic","width","height","borderRadius","name","email","margin","Footer","moment","require","Home","undefined","data","setData","getItem","result","postedBy","fontSize","lineHeight","fontWeight","marginTop","createdAt","utcOffset","fromNow","postId","newData","filter","photo","favourites","includes","payload","setItem","likes","length","comments","title","onSubmit","text","preventDefault","commentId","paddingTop","Profile","tabs","fav","setFav","pics","image","setImage","isUploading","setIsUploading","Tabs","swipeable","FormData","append","url","ClassName","textAlign","maxWidth","display","justifyContent","followers","following","file","files","href","alt","Signin","password","setPassword","setEmail","required","error","token","user","Signup","setName","setUrl","uploadFields","message","PostData","uploadPic","CreatePost","setTitle","setBody","postData","profile","setProfile","userId","useParams","showFollow","setShowFollow","borderBottom","posts","followId","prevState","unfollowId","newFollowers","UpdatePost","post","setPost","toString","marginLeft","ViewPost","deletePost","postComment","comment","deleteComment","reducer","action","createContext","Routing","parse","exact","path","UserProfile","App","useReducer","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c6bcd2bf.chunk.js","sourcesContent":["import React, {useContext, useRef, useEffect, useState} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../App'\r\nimport M from 'materialize-css'\r\n\r\nconst NavBar = () => {\r\n  const searchModal = useRef(null)\r\n  const sideNav = useRef(null)\r\n  const [search, setSearch] = useState(\"\")\r\n  const [userDetails, setUserDetails] = useState([])\r\n  const {state, dispatch} = useContext(UserContext)\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    M.Modal.init(searchModal.current)\r\n    M.Sidenav.init(sideNav.current, {draggable: true})\r\n  }, [])\r\n\r\n  const fetchUsers = (query) => {\r\n    setSearch(query)\r\n    fetch('/users/search-users', {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\"\r\n      },\r\n      body: JSON.stringify({query:query})\r\n    }).then(res => res.json())\r\n    .then(results => {\r\n      setUserDetails(results.users)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const renderList = () => {\r\n    if (state) {\r\n      return [\r\n        <li key=\"1\"><i onClick={() => M.Sidenav.getInstance(sideNav.current).close()}\r\n        data-target=\"modal1\" className = \"material-icons modal-trigger\" style={{color: \"black\", cursor:\"pointer\"}}>search</i></li>,\r\n        <li key=\"2\"><Link to=\"/myfeed\" onClick={() => M.Sidenav.getInstance(sideNav.current).close()}>My Feed</Link></li>,\r\n        <li key=\"3\"><Link to=\"/profile\" onClick={() => M.Sidenav.getInstance(sideNav.current).close()}>Profile</Link ></li>,\r\n        <li key=\"4\"><Link to=\"/create-post\" onClick={() => M.Sidenav.getInstance(sideNav.current).close()}>Create Post</Link ></li>,\r\n        <li key=\"5\">\r\n          <button className = \"btn \" onClick = {() => {\r\n            localStorage.clear()\r\n            dispatch({type: \"CLEAR\"})\r\n            M.Sidenav.getInstance(sideNav.current).close()\r\n            M.toast({html: \"Logged out Successfully\", classes: \"#43a047 green darken-1\"})\r\n            history.push('/signin')\r\n\r\n          }}> Logout </button>\r\n        </li>\r\n      ]\r\n    }\r\n    else {\r\n      return [\r\n        <li key=\"6\"><Link to=\"/signin\" onClick={() => M.Sidenav.getInstance(sideNav.current).close()}>Signin</Link ></li>,\r\n        <li key=\"7\"><Link to=\"/signup\" onClick={() => M.Sidenav.getInstance(sideNav.current).close()}>Signup</Link ></li>\r\n      ]\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n    <div className=\"navbar-fixed\">\r\n    <nav>\r\n    <div className=\"nav-wrapper white\">\r\n      <Link to= {state ? \"/\" : \"/signin\"} className=\"brand-logo myfont \">Connect</Link >\r\n      <Link to ={\"\"} className=\"sidenav-trigger\" data-target=\"slide-out\">\r\n\t\t\t<i className=\"material-icons\">menu</i>\r\n\t\t  </Link>\r\n      <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down \">\r\n        {renderList()}\r\n      </ul>\r\n    </div>\r\n    <div id=\"modal1\" className=\"modal\" ref={searchModal} style={{color: \"black\"}}>\r\n    <div className=\"modal-content\">\r\n      <input type = \"text\" placeholder=\"Search users\" value = {search}\r\n       onChange={(e) => fetchUsers(e.target.value)} autoFocus />\r\n      <ul className=\"collection\">\r\n         {userDetails.map(item => {\r\n           return <Link to={item._id !== (state ? state._id : \"0\") ? \"/profile/\"+item._id : \"/profile\"} onClick = {()=>{\r\n             M.Modal.getInstance(searchModal.current).close()\r\n             setSearch(\"\")\r\n           }}><li className=\"collection-item\">\r\n                  <div style={{float: \"left\", padding: \"10px\"}}>\r\n                    <img src = {item.pic} style={{width: \"50px\", height: \"50px\", borderRadius: \"50%\"}} />\r\n                  </div>\r\n                  <div style={{float: \"left\"}}>\r\n                   <h6>{item.name}</h6>\r\n                   <h6>{item.email}</h6>\r\n                </div></li></Link>\r\n         })}\r\n       </ul>\r\n    </div>\r\n    <div className=\"modal-footer\">\r\n      <button className=\"modal-close waves-effect waves-green btn-flat\" onClick={()=> setSearch(\"\")}>Close</button>\r\n    </div>\r\n  </div>\r\n  </nav>\r\n </div>\r\n\r\n   <ul className=\"sidenav\" id=\"slide-out\" ref={sideNav}>\r\n       <li><i style={{cursor:\"pointer\", float:\"right\", margin: \"10px\"}} className=\"material-icons sidenav-close\">close</i></li>\r\n \t    {renderList()}\r\n    </ul>\r\n</div>\r\n  )\r\n}\r\n\r\nexport default NavBar\r\n","import React, {useContext, useRef, useEffect, useState} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../App'\r\nimport M from 'materialize-css'\r\n\r\n\r\nconst Footer = () => {\r\n  const {state, dispatch} = useContext(UserContext)\r\n\r\n  return (\r\n    <>\r\n   {  state ?\r\n    <footer className=\"myfooter show-on-medium-and-down hide-on-large-only\">\r\n      <div className=\"container\">\r\n        <div className= \"row myrow\">\r\n          <Link className=\"flink waves-effect waves-teal\" to = {'/'}><i className=\"material-icons\">home</i></Link>\r\n          <Link className=\"flink waves-effect waves-teal\" to = {'/'}>\r\n          <i data-target=\"modal1\" className = \"material-icons modal-trigger\" >search</i></Link>\r\n          <Link className=\"flink waves-effect waves-teal\" to = {'/create-post'}><i className=\"material-icons\">add_a_photo</i></Link>\r\n          <Link className=\"flink waves-effect waves-teal\" to = {'/myfeed'}><i className=\"material-icons\">rss_feed</i></Link>\r\n          <Link className=\"flink waves-effect waves-teal\" to = {'/profile'}><i className=\"material-icons\">account_circle</i></Link>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n    :\r\n    \"\"\r\n  }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React,{useEffect, useState, useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\nimport {Link} from 'react-router-dom'\r\nconst moment = require('moment')\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState(undefined)\r\n  const {state, dispatch} = useContext(UserContext)\r\n  useEffect(() => {\r\n    fetch('/posts/all', {\r\n      headers: {\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      console.log(result)\r\n      setData(result)\r\n    })\r\n  }, [])\r\n\r\n  const likePost = (id) => {\r\n    fetch('/posts/like', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      const newData = data.map(item => {\r\n        if (item._id == result._id) {\r\n          return result\r\n        }\r\n        else {\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const unlikePost = (id) => {\r\n    fetch('/posts/unlike', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      const newData = data.map(item => {\r\n        if (item._id == result._id) {\r\n          return result\r\n        }\r\n        else {\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const postComment = (text, postId) => {\r\n    fetch('/posts/comment', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId:postId,\r\n        text: text\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      const newData = data.map(item => {\r\n        if (item._id == result._id) {\r\n          return result\r\n        }\r\n        else {\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const addtoFav = (postId) => {\r\n    fetch('/users/addtofav', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId: postId\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      dispatch({type: \"UPDATEFAV\", payload:{favourites: result.favourites}})\r\n      localStorage.setItem(\"user\", JSON.stringify(result))\r\n    })\r\n  }\r\n\r\n  const removefromFav = (postId) => {\r\n    fetch('/users/removefromfav', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId: postId\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      dispatch({type: \"UPDATEFAV\", payload:{favourites: result.favourites}})\r\n      localStorage.setItem(\"user\", JSON.stringify(result))\r\n    })\r\n  }\r\n\r\n  const deletePost = (postId) => {\r\n    fetch(`/posts/deletepost/${postId}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      console.log(result)\r\n      const newData = data.filter(item => {\r\n        return item._id !== result._id\r\n      })\r\n      setData(newData)\r\n      M.toast({html: \"Deleted Successfully\", classes: \"#43a047 green darken-1\"})\r\n    })\r\n  }\r\n\r\n  const deleteComment = (postId, commentId) => {\r\n    fetch(`/posts/${postId}/comments/${commentId}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      const newData = data.map(item => {\r\n        if (item._id == result._id) {\r\n          return result\r\n        }\r\n        else {\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n      M.toast({html: \"Comment Deleted Successfully\", classes: \"#43a047 green darken-1\"})\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n    {\r\n      data ?\r\n\r\n      <div className = \"home\">{\r\n        data.map(item => {\r\n          return (\r\n            <div className = \"card home-card\" key = {item._id}>\r\n                <div>\r\n                   <div style={{float: \"left\", padding: \"10px\"}}>\r\n                     <Link to={item.postedBy._id == state._id ? \"/profile\" : \"/profile/\"+item.postedBy._id} >\r\n                     <img src = {item.postedBy.pic} style={{width: \"30px\", height: \"30px\", borderRadius: \"50%\"}} />\r\n                     </Link>\r\n                   </div>\r\n                   <div style={{float: \"left\"}}>\r\n                    <div style={{fontSize: \"1rem\", lineHeight: \"110%\", padding:\"2px\", fontWeight: \"600\", marginTop: \"5px\"}}>{item.postedBy.name}</div>\r\n                    <div style={{fontSize: \"1rem\", lineHeight: \"110%\", padding:\"2px\"}}>{moment(item.createdAt).utcOffset(\"+05:30\").fromNow()} <i className = \"tiny material-icons\">public</i></div>\r\n                  </div>\r\n                  <div>{item.postedBy._id == state._id\r\n                       && <span style = {{float: \"right\", marginTop: \"10px\"}}><Link style = {{float: \"right\"}} to = {\"/update-post/\" + item._id}><i className = \"material-icons\" style={{cursor:\"pointer\"}}>edit</i></Link>\r\n                       <i className = \"material-icons\" style={{cursor:\"pointer\"}} onClick = {() => {deletePost(item._id)}}>delete</i></span>}\r\n                  </div>\r\n              </div>\r\n\r\n              <div className = \"card-image\">\r\n                <img src = {item.photo} />\r\n              </div>\r\n              <div className = \"card-content\">\r\n              {state && state.favourites.includes(item._id)\r\n               ? <i className = \"material-icons\" style = {{color:\"red\", cursor:\"pointer\"}} onClick = {() => {removefromFav(item._id)}}>favorite</i>\r\n               : <i className = \"material-icons\" style = {{color:\"red\", cursor:\"pointer\"}} onClick = {() => {addtoFav(item._id)}}>favorite_border</i>\r\n              }\r\n\r\n              {item.likes.includes(state._id)\r\n              ? <i className = \"material-icons\" style={{cursor:\"pointer\"}} onClick = {() => {unlikePost(item._id)}}>thumb_down</i>\r\n              : <i className = \"material-icons\" style={{cursor:\"pointer\"}} onClick = {() => {likePost(item._id)}}>thumb_up</i>\r\n              }\r\n                <h6>{item.likes.length} likes. {item.comments.length} comments</h6>\r\n                <h5>{item.title}</h5>\r\n                <p>{item.body}</p>\r\n                <form onSubmit = {(e) => {\r\n                  e.preventDefault()\r\n                  postComment(e.target[0].value, item._id)\r\n                }}>\r\n                  <input type = \"text\" placeholder = \"comment on this post\" />\r\n                </form>\r\n                {\r\n                  item.comments.length >= 1 ?\r\n                      <h6 key={item.comments[0]._id}><span style = {{fontWeight: \"500\"}}>{item.comments[0].postedBy.name} : </span> {item.comments[0].text}\r\n                      {item.comments[0].postedBy._id == state._id\r\n                      && <i className = \"tiny material-icons\" style = {{color:\"red\", cursor:\"pointer\"}} onClick = {() => {deleteComment(item._id, item.comments[0]._id)}}>delete</i>}</h6>\r\n                    :\r\n                    \"\"\r\n                }\r\n                {\r\n                  item.comments.length >= 1 ?\r\n                      <Link style={{paddingTop: \"5px\"}} to = {\"/viewpost/\"+item._id}>View all {item.comments.length} comments</Link>\r\n                    :\r\n                    \"\"\r\n                }\r\n\r\n\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n      </div>\r\n\r\n      :\r\n\r\n      <div className=\"progress\">\r\n      <div className=\"indeterminate\"></div>\r\n      </div>\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React,{useEffect, useState, useContext, useRef} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nconst Profile = () => {\r\n  const history = useHistory()\r\n  const tabs = useRef(null)\r\n  const [fav, setFav] = useState([])\r\n  const [pics, setPics] = useState([])\r\n  const {state, dispatch} = useContext(UserContext)\r\n  const [image, setImage] = useState(\"\")\r\n  const [isUploading, setIsUploading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    console.log(\"Running\")\r\n    M.Tabs.init(tabs.current, {swipeable: true});\r\n    fetch('/posts/myposts', {\r\n      headers: {\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      }\r\n    }).then(res => res.text())\r\n    .then(result => {\r\n      console.log(result)\r\n      //setPics(result)\r\n    }).catch(err => console.log(err))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetch ('./posts/myfav', {\r\n      headers: {\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      setFav(result)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (image) {\r\n      const data = new FormData()\r\n      data.append(\"file\",image)\r\n      data.append(\"upload_preset\",\"connect\")\r\n      data.append(\"cloud_name\",\"nithin\")\r\n      fetch(\"https://api.cloudinary.com/v1_1/nithin/image/upload\",{\r\n          method:\"post\",\r\n          body:data\r\n      })\r\n      .then(res=>res.json())\r\n      .then(data=>{\r\n         fetch('/users/updatepic', {\r\n           method: \"put\",\r\n           headers: {\r\n             \"Content-Type\": \"application/json\",\r\n             \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n           },\r\n           body: JSON.stringify({\r\n             pic: data.url\r\n           })\r\n         }).then(res => res.json()).then(result => {\r\n           localStorage.setItem(\"user\", JSON.stringify({...state, pic:result.pic}))\r\n           dispatch({type: \"UPDATEPIC\", payload:result.pic})\r\n           setIsUploading(false)\r\n         })\r\n      })\r\n      .catch(err=>{\r\n          console.log(err)\r\n      })\r\n    }\r\n  }, [image])\r\n\r\n  const updatePic = (file) => {\r\n    setIsUploading(true)\r\n    setImage(file)\r\n  }\r\n\r\n  return (\r\n    <>\r\n     {\r\n       !isUploading ?\r\n\r\n       <div style = {{maxWidth: \"650px\", margin: \"0px auto\"}}>\r\n         <div style = {{\r\n           display: \"flex\",\r\n           justifyContent: \"space-around\",\r\n           margin: \"18px 10px 0px 0px\",\r\n         }}>\r\n           <div>\r\n           <img style = {{width: \"160px\", height: \"160px\", borderRadius: \"50%\"}}\r\n           src = {state ? state.pic: \"loading..\"}\r\n           />\r\n           </div>\r\n\r\n           <div>\r\n           <h4>{state ? state.name : \"Loading..\"}</h4>\r\n           <h5>{state ? state.email : \"Loading..\"}</h5>\r\n           <div style = {{display: \"flex\",justifyContent: \"space-between\", width: \"108%\"}}>\r\n             <h6>{pics && pics.length} posts</h6>\r\n             <h6>{state ? state.followers.length : \"0\"} followers</h6>\r\n             <h6>{state ? state.following.length : \"0\"} following</h6>\r\n           </div>\r\n           </div>\r\n\r\n         </div>\r\n         <div className = \"file-field input-field\">\r\n         <div className = \"btn\">\r\n           <span>Update</span>\r\n           <input type=\"file\" onChange={(e)=>updatePic(e.target.files[0])} />\r\n         </div>\r\n         <div className = \"file-path-wrapper\">\r\n           <input className = \"file-path validate\" type=\"text\" />\r\n         </div>\r\n         </div>\r\n\r\n         <div className=\"row\">\r\n        <div className=\"col s12\">\r\n            <ul id=\"tabs-swipe-demo\" className=\"tabs tabs-fixed-width\" ref={tabs}>\r\n                <li className=\"tab col s3\"><a href=\"#test-swipe-1\"><i className=\"material-icons\">\r\n                favorite</i></a></li>\r\n                <li className=\"tab col s3\"><a className=\"active\" href=\"#test-swipe-2\">\r\n                <i className=\"material-icons\">collections</i></a></li>\r\n            </ul>\r\n            <div id=\"test-swipe-2\" className=\"col s12\">\r\n            <div className=\"gallery\">\r\n           { pics && pics.length > 0 ?\r\n             pics.map(item => {\r\n               return (\r\n                 <img key = {item._id} className=\"item\" onClick={() => history.push('/viewpost/'+item._id)} alt = {item.title} src = {item.photo} />\r\n               )\r\n             }) : <h5 style={{textAlign: \"center\"}}>Create a post to see it here</h5>\r\n           }\r\n            </div>\r\n            </div>\r\n            <div id=\"test-swipe-1\" className=\"col s12\">\r\n            <div className=\"gallery\">\r\n           { fav && fav.length > 0 ?\r\n             fav.map(item => {\r\n               return (\r\n                 <img key = {item._id} className=\"item\" onClick={() => history.push('/viewpost/'+item._id)} alt = {item.title} src = {item.photo} />\r\n               )\r\n             }) : <h5 style={{textAlign: \"center\"}}>Add posts to favourites to see them here</h5>\r\n           }\r\n            </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n      </div>\r\n\r\n       :\r\n       <div>\r\n       <div className=\"progress\">\r\n       <div className=\"indeterminate\"></div>\r\n       </div>\r\n       <h5 ClassName=\"myfont\" style={{textAlign: \"center\", marginTop: \"100px\"}}>Updating...</h5>\r\n       </div>\r\n     }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import React, {useState, useContext,} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\nimport {UserContext} from '../../App'\r\n\r\nconst Signin = () => {\r\n  const {state, dispatch} = useContext(UserContext)\r\n  const history = useHistory()\r\n  const [password, setPassword] = useState(\"\")\r\n  const [email, setEmail] = useState(\"\")\r\n  const PostData = () => {\r\n    fetch(\"users/signin\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        password : password,\r\n        email: email\r\n      })\r\n    }).then(res => res.json()).then(data => {\r\n      if (data.error) {\r\n         M.toast({html: data.error, classes: \"#c62828 red darken-3\"})\r\n      }\r\n      else {\r\n        localStorage.setItem(\"jwt\", data.token)\r\n        localStorage.setItem(\"user\", JSON.stringify(data.user))\r\n        dispatch({type: \"USER\", payload: data.user})\r\n        M.toast({html: \"Login Success\", classes: \"#43a047 green darken-1\"})\r\n        history.push('/')\r\n      }\r\n    }).catch((err) => console.log(err))\r\n  }\r\n\r\n  return (\r\n    <div className = \"mycard\">\r\n    <div className = \"card auth-card\">\r\n      <h3 className =  \"myfont\"> Connect </h3>\r\n      <input type = \"text\" placeholder = \"Email\" value={email} onChange = {(e) => setEmail(e.target.value)} autoFocus required />\r\n      <input type = \"password\" placeholder = \"Password\" value={password} onChange = {(e) => setPassword(e.target.value)} required />\r\n      <button className = \"btn waves-effect waves-light\" onClick = {() => PostData()}> Login </button>\r\n      <h6> <Link to= \"/signup\"> Don't have an account ? </Link></h6>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Signin\r\n","import React, {useState, useEffect} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nconst Signup = () => {\r\n  const history = useHistory()\r\n  const [name, setName] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [email, setEmail] = useState(\"\")\r\n  const [image, setImage] = useState(\"\")\r\n  const [url, setUrl] = useState(undefined)\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      uploadFields()\r\n    }\r\n  }, [url])\r\n\r\n  const uploadPic = ()=>{\r\n       const data = new FormData()\r\n       data.append(\"file\",image)\r\n       data.append(\"upload_preset\",\"connect\")\r\n       data.append(\"cloud_name\",\"nithin\")\r\n       fetch(\"https://api.cloudinary.com/v1_1/nithin/image/upload\",{\r\n           method:\"post\",\r\n           body:data\r\n       })\r\n       .then(res=>res.json())\r\n       .then(data=>{\r\n          setUrl(data.url)\r\n       })\r\n       .catch(err=>{\r\n           console.log(err)\r\n       })\r\n   }\r\n\r\n   const uploadFields = () => {\r\n     fetch(\"users/signup\", {\r\n       method: \"post\",\r\n       headers: {\r\n         \"Content-Type\" : \"application/json\"\r\n       },\r\n       body: JSON.stringify({\r\n         name: name,\r\n         password : password,\r\n         email: email,\r\n         pic: url\r\n       })\r\n     }).then(res => res.json()).then(data => {\r\n       if (data.error) {\r\n          M.toast({html: data.error, classes: \"#c62828 red darken-3\"})\r\n       }\r\n       else {\r\n         M.toast({html: data.message, classes: \"#43a047 green darken-1\"})\r\n         history.push('/signin')\r\n       }\r\n     }).catch((err) => {console.log(err)})\r\n   }\r\n\r\n\r\n  const PostData = () => {\r\n    if(image) {\r\n      uploadPic()\r\n    }\r\n    else {\r\n      uploadFields()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className = \"mycard\">\r\n    <div className = \"card auth-card\">\r\n      <h3 className =  \"myfont\"> Connect </h3>\r\n      <input type = \"text\" placeholder = \"Name\" value={name} onChange = {(e) => setName(e.target.value)} autoFocus required />\r\n      <input type = \"text\" placeholder = \"Email\" value={email} onChange = {(e) => setEmail(e.target.value)} required />\r\n      <input type = \"password\" placeholder = \"Password\" value={password} onChange = {(e) => setPassword(e.target.value)} required />\r\n      <div className = \"file-field input-field\">\r\n      <div className = \"btn\">\r\n        <span>Upload Pic</span>\r\n        <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])} />\r\n      </div>\r\n      <div className = \"file-path-wrapper\">\r\n        <input className = \"file-path validate\" type=\"text\" />\r\n      </div>\r\n    </div>\r\n      <button className = \"btn waves-effect waves-light\" onClick = {() => PostData()}> Register </button>\r\n      <h6> <Link to= \"/signin\"> Already have an account ? </Link></h6>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Signup\r\n","import React, {useState, useEffect} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nconst CreatePost = () => {\r\n  const history = useHistory()\r\n  const [title, setTitle] = useState(\"\")\r\n  const [body, setBody] = useState(\"\")\r\n  const [image, setImage] = useState(\"\")\r\n  const [url,setUrl] = useState(\"\")\r\n  const [isUploading, setIsUploading] = useState(false)\r\n\r\n    useEffect(()=>{\r\n       if(url){\r\n        fetch(\"/posts/createpost\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                title,\r\n                body,\r\n                pic:url\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n\r\n           if(data.error){\r\n              M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n           }\r\n           else{\r\n               setIsUploading(false)\r\n               M.toast({html:\"Created post Successfully\",classes:\"#43a047 green darken-1\"})\r\n               history.push('/')\r\n           }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    },[url])\r\n\r\n    const postData = ()=>{\r\n         setIsUploading(true)\r\n         const data = new FormData()\r\n         data.append(\"file\",image)\r\n         data.append(\"upload_preset\",\"connect\")\r\n         data.append(\"cloud_name\",\"nithin\")\r\n         fetch(\"https://api.cloudinary.com/v1_1/nithin/image/upload\",{\r\n             method:\"post\",\r\n             body:data\r\n         })\r\n         .then(res=>res.json())\r\n         .then(data=>{\r\n            setUrl(data.url)\r\n         })\r\n         .catch(err=>{\r\n             console.log(err)\r\n         })\r\n\r\n\r\n     }\r\n\r\n  return (\r\n    <>\r\n    {\r\n      !isUploading ?\r\n      <div className = \"card input-field\" style = {{\r\n        margin: \"10px auto\",\r\n        maxWidth: \"500px\",\r\n        padding: \"20px\",\r\n        textAlign: \"center\"\r\n      }}>\r\n        <input type = \"text\" placeholder = \"Title\" value ={title} onChange = {(e) => setTitle(e.target.value)} autoFocus />\r\n        <input type = \"text\" placeholder = \"Body\" value ={body} onChange = {(e) => setBody(e.target.value)} />\r\n        <div className = \"file-field input-field\">\r\n        <div className = \"btn\">\r\n          <span>Upload Image</span>\r\n          <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])} />\r\n        </div>\r\n        <div className = \"file-path-wrapper\">\r\n          <input className = \"file-path validate\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <button className = \"btn waves-effect waves-light #64b5f6 blue darken-1\" onClick={() => postData()}> Create Post </button>\r\n      </div>\r\n      :\r\n      <div className=\"progress\">\r\n      <div className=\"indeterminate\"></div>\r\n      </div>\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CreatePost\r\n","import React,{useEffect, useState, useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {useParams, useHistory} from 'react-router-dom'\r\n\r\nconst Profile = () => {\r\n  const history = useHistory()\r\n  const [profile, setProfile] = useState(null)\r\n  const {state, dispatch} = useContext(UserContext)\r\n  const{userId} = useParams()\r\n  const [showFollow, setShowFollow] = useState(state ? !state.following.includes(userId):true)\r\n  useEffect(() => {\r\n    fetch(`/users/${userId}`, {\r\n      headers: {\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      setProfile(result)\r\n    })\r\n  }, [])\r\n\r\n  const follow = () => {\r\n    fetch('/users/follow', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        followId: userId\r\n      })\r\n    }).then(res => res.json()).then(data => {\r\n      dispatch({type: \"UPDATE\", payload:{following:data.following, followers: data.followers}})\r\n      localStorage.setItem(\"user\", JSON.stringify(data))\r\n      setProfile((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          user:{...prevState.user, followers: [...prevState.user.followers, data._id]}\r\n        }\r\n      })\r\n      setShowFollow(false)\r\n    })\r\n  }\r\n\r\n\r\n  const unfollow = () => {\r\n    fetch('/users/unfollow', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        unfollowId: userId\r\n      })\r\n    }).then(res => res.json()).then(data => {\r\n      dispatch({type: \"UPDATE\", payload:{following:data.following, followers: data.followers}})\r\n      localStorage.setItem(\"user\", JSON.stringify(data))\r\n      setProfile((prevState) => {\r\n        const newFollowers = prevState.user.followers.filter(item => item != data._id)\r\n        return {\r\n          ...prevState,\r\n          user:{...prevState.user, followers: newFollowers}\r\n        }\r\n      })\r\n      setShowFollow(true)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n    {profile ?\r\n\r\n      <div style = {{maxWidth: \"650px\", margin: \"0px auto\"}}>\r\n        <div style = {{\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          margin: \"18px 0px\",\r\n          borderBottom: \"1px solid gray\"\r\n        }}>\r\n          <div>\r\n          <img style = {{width: \"160px\", height: \"160px\", borderRadius: \"50%\"}}\r\n          src = {profile.user.pic}/>\r\n          </div>\r\n\r\n          <div>\r\n          <h4>{profile.user.name}</h4>\r\n          <h5>{profile.user.email}</h5>\r\n          <div style = {{display: \"flex\",justifyContent: \"space-between\", width: \"108%\"}}>\r\n            <h6>{profile.posts.length} posts</h6>\r\n            <h6>{profile.user.followers.length} followers</h6>\r\n            <h6>{profile.user.following.length} following</h6>\r\n          </div>\r\n          {\r\n            showFollow ?\r\n            <button style = {{margin: \"10px\"}} className = \"btn waves-effect waves-light\" onClick = {() => follow()}> Follow </button>\r\n            : <button style = {{margin: \"10px\"}} className = \"btn waves-effect waves-light\" onClick = {() => unfollow()}> unFollow </button>\r\n          }\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"gallery\">\r\n        {\r\n          profile.posts.map(item => {\r\n            return (\r\n              <img key = {item._id} onClick={() => history.push('/viewpost/'+item._id)} className=\"item\" alt = {item.title} src = {item.photo} />\r\n            )\r\n          })\r\n        }\r\n        </div>\r\n      </div>\r\n\r\n      :\r\n      <div className=\"progress\">\r\n      <div className=\"indeterminate\"></div>\r\n      </div>\r\n      }\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import React,{useEffect, useState, useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\nimport {Link, useParams, useHistory} from 'react-router-dom'\r\n\r\nconst UpdatePost = () => {\r\n  const history = useHistory()\r\n  const [post, setPost] = useState(null)\r\n  const [title, setTitle] = useState(\"\")\r\n  const [body, setBody] = useState(\"\")\r\n  const {state, dispatch} = useContext(UserContext)\r\n  const {postId} = useParams()\r\n\r\n  useEffect(() => {\r\n    fetch(`/posts/${postId}`, {\r\n      headers: {\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        \"Content-Type\" : \"application/json\"\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      setPost(result)\r\n      setTitle(result.title)\r\n      setBody(result.body)\r\n    })\r\n  }, [])\r\n\r\n   const updateData = () => {\r\n     fetch('/posts/updatepost', {\r\n       method: \"put\",\r\n       headers: {\r\n         \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n         \"Content-Type\" : \"application/json\"\r\n       },\r\n       body: JSON.stringify({\r\n         postId: postId,\r\n         title: title,\r\n         body: body\r\n       })\r\n     }).then(res => res.json())\r\n     .then(result =>  {\r\n       M.toast({html: \"Post updated Successfully\", classes: \"#43a047 green darken-1\"})\r\n       history.push('/')\r\n\r\n     }).catch(err => console.log(err))\r\n   }\r\n\r\n  return (\r\n    <>\r\n    {\r\n      post ?\r\n\r\n\r\n        post.postedBy._id.toString() === state._id ?\r\n\r\n        <div className = \"card home-card\">\r\n          <h5 style={{padding: \"5px\"}}><Link to = {post.postedBy._id == state._id ? \"/profile\" : \"/profile/\"+post.postedBy._id} >\r\n           <img src = {post.postedBy.pic} style = {{width: \"30px\", height: \"30px\", borderRadius: \"50%\"}} /> {post.postedBy.name}</Link> </h5>\r\n          <div className = \"card-image\">\r\n            <img src = {post.photo} />\r\n          </div>\r\n          <div className = \"card-content\">\r\n            <h6>{post.likes.length} likes  {post.comments.length} comments</h6><br />\r\n            <label style={{fontSize: \"17px\"}}> Title: </label>\r\n            <input type = \"text\" value = {title} onChange = {(e) => setTitle(e.target.value)} autoFocus />\r\n            <label style={{fontSize: \"17px\"}}> Body: </label>\r\n            <input type = \"text\" value = {body} onChange = {(e) => setBody(e.target.value)} />\r\n            <button className = \"btn waves-effect waves-light #64b5f6 blue darken-1\" onClick={() => updateData()}> Update Post </button>\r\n            <button style={{marginLeft: \"20px\"}} className = \"btn waves-effect waves-light #d32f2f red darken-2\" onClick={() => history.push('/')}> Cancel </button>\r\n          </div>\r\n        </div>\r\n        :\r\n        history.push('/')\r\n\r\n      :\r\n      <div className=\"progress\">\r\n      <div className=\"indeterminate\"></div>\r\n      </div>\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdatePost\r\n","import React,{useEffect, useState, useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\nimport {Link} from 'react-router-dom'\r\nconst moment = require('moment')\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState(undefined)\r\n  const {state, dispatch} = useContext(UserContext)\r\n  useEffect(() => {\r\n    fetch('/posts/myfeed', {\r\n      headers: {\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      console.log(result)\r\n      setData(result)\r\n    })\r\n  }, [])\r\n\r\n  const likePost = (id) => {\r\n    fetch('/posts/like', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      const newData = data.map(item => {\r\n        if (item._id == result._id) {\r\n          return result\r\n        }\r\n        else {\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const unlikePost = (id) => {\r\n    fetch('/posts/unlike', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      const newData = data.map(item => {\r\n        if (item._id == result._id) {\r\n          return result\r\n        }\r\n        else {\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const postComment = (text, postId) => {\r\n    fetch('/posts/comment', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId:postId,\r\n        text: text\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      const newData = data.map(item => {\r\n        if (item._id == result._id) {\r\n          return result\r\n        }\r\n        else {\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const deletePost = (postId) => {\r\n    fetch(`/posts/deletepost/${postId}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      console.log(result)\r\n      const newData = data.filter(item => {\r\n        return item._id !== result._id\r\n      })\r\n      setData(newData)\r\n      M.toast({html: \"Deleted Successfully\", classes: \"#43a047 green darken-1\"})\r\n    })\r\n  }\r\n\r\n  const deleteComment = (postId, commentId) => {\r\n    fetch(`/posts/${postId}/comments/${commentId}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      const newData = data.map(item => {\r\n        if (item._id == result._id) {\r\n          return result\r\n        }\r\n        else {\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n      M.toast({html: \"Comment Deleted Successfully\", classes: \"#43a047 green darken-1\"})\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n     {\r\n       data ? data.length == 0 ? <h5 style={{textAlign:\"center\"}}>Follow someone to see their posts</h5> :\r\n\r\n       <div className = \"home\">{\r\n         data.map(item => {\r\n           return (\r\n             <div className = \"card home-card\" key = {item._id}>\r\n                 <div>\r\n                    <div style={{float: \"left\", padding: \"10px\"}}>\r\n                      <Link to={item.postedBy._id == state._id ? \"/profile\" : \"/profile/\"+item.postedBy._id} >\r\n                      <img src = {item.postedBy.pic} style={{width: \"30px\", height: \"30px\", borderRadius: \"50%\"}} />\r\n                      </Link>\r\n                    </div>\r\n                    <div style={{float: \"left\"}}>\r\n                     <div style={{fontSize: \"1rem\", lineHeight: \"110%\", padding:\"2px\", fontWeight: \"600\", marginTop: \"5px\"}}>{item.postedBy.name}</div>\r\n                     <div style={{fontSize: \"1rem\", lineHeight: \"110%\", padding:\"2px\"}}>{moment(item.createdAt).utcOffset(\"+05:30\").fromNow()} <i className = \"tiny material-icons\">public</i></div>\r\n                   </div>\r\n                   <div>{item.postedBy._id == state._id\r\n                        && <span style = {{float: \"right\", marginTop: \"10px\"}}><Link style = {{float: \"right\"}} to = {\"/update-post/\" + item._id}><i className = \"material-icons\" style={{cursor:\"pointer\"}}>edit</i></Link>\r\n                        <i className = \"material-icons\" style={{cursor:\"pointer\"}} onClick = {() => {deletePost(item._id)}}>delete</i></span>}\r\n                   </div>\r\n               </div>\r\n\r\n               <div className = \"card-image\">\r\n                 <img src = {item.photo} />\r\n               </div>\r\n               <div className = \"card-content\">\r\n               <i className = \"material-icons\" style = {{color:\"red\"}}>favorite</i>\r\n               {item.likes.includes(state._id)\r\n               ? <i className = \"material-icons\" style={{cursor:\"pointer\"}} onClick = {() => {unlikePost(item._id)}}>thumb_down</i>\r\n               : <i className = \"material-icons\" style={{cursor:\"pointer\"}} onClick = {() => {likePost(item._id)}}>thumb_up</i>\r\n               }\r\n                 <h6>{item.likes.length} likes. {item.comments.length} comments</h6>\r\n                 <h5>{item.title}</h5>\r\n                 <p>{item.body}</p>\r\n                 <form onSubmit = {(e) => {\r\n                   e.preventDefault()\r\n                   postComment(e.target[0].value, item._id)\r\n                 }}>\r\n                   <input type = \"text\" placeholder = \"comment on this post\" />\r\n                 </form>\r\n                 {\r\n                   item.comments.length >= 1 ?\r\n                       <h6 key={item.comments[0]._id}><span style = {{fontWeight: \"500\"}}>{item.comments[0].postedBy.name} : </span> {item.comments[0].text}\r\n                       {item.comments[0].postedBy._id == state._id\r\n                       && <i className = \"tiny material-icons\" style = {{color:\"red\", cursor:\"pointer\"}} onClick = {() => {deleteComment(item._id, item.comments[0]._id)}}>delete</i>}</h6>\r\n                     :\r\n                     \"\"\r\n                 }\r\n                 {\r\n                   item.comments.length >= 1 ?\r\n                       <Link style={{paddingTop: \"5px\"}} to = {\"/viewpost/\"+item._id}>View all {item.comments.length} comments</Link>\r\n                     :\r\n                     \"\"\r\n                 }\r\n\r\n\r\n               </div>\r\n             </div>\r\n           )\r\n         })\r\n       }\r\n       </div>\r\n\r\n       :\r\n\r\n       <div className=\"progress\">\r\n       <div className=\"indeterminate\"></div>\r\n       </div>\r\n     }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React,{useEffect, useState, useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\nimport {Link, useParams, useHistory} from 'react-router-dom'\r\nconst moment = require('moment')\r\n\r\nconst ViewPost = () => {\r\n  const history = useHistory()\r\n  const [post, setPost] = useState(null)\r\n  const {state, dispatch} = useContext(UserContext)\r\n  const {postId} = useParams()\r\n\r\n  useEffect(() => {\r\n    fetch(`/posts/${postId}`, {\r\n      headers: {\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        \"Content-Type\" : \"application/json\"\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      setPost(result)\r\n    })\r\n  }, [])\r\n\r\n  const likePost = (id) => {\r\n    fetch('/posts/like', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      setPost(result)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const unlikePost = (id) => {\r\n    fetch('/posts/unlike', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\" : \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      setPost(result)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const postComment = (text, postId) => {\r\n    fetch('/posts/comment', {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body: JSON.stringify({\r\n        postId:postId,\r\n        text: text\r\n      })\r\n    }).then(res => res.json()).then(result => {\r\n      setPost(result)\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  const deletePost = (postId) => {\r\n    fetch(`/posts/deletepost/${postId}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      setPost(result)\r\n      M.toast({html: \"Deleted Successfully\", classes: \"#43a047 green darken-1\"})\r\n      history.push('/')\r\n    })\r\n  }\r\n\r\n  const deleteComment = (postId, commentId) => {\r\n    fetch(`/posts/${postId}/comments/${commentId}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n      }\r\n    }).then(res => res.json())\r\n    .then(result => {\r\n      setPost(result)\r\n      M.toast({html: \"Comment Deleted Successfully\", classes: \"#43a047 green darken-1\"})\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n    {\r\n      post ?\r\n\r\n      <div className = \"card home-card\" key = {post._id}>\r\n      <div>\r\n         <div style={{float: \"left\", padding: \"10px\"}}>\r\n           <Link to={post.postedBy._id == state._id ? \"/profile\" : \"/profile/\"+post.postedBy._id} >\r\n           <img src = {post.postedBy.pic} style={{width: \"30px\", height: \"30px\", borderRadius: \"50%\"}} />\r\n           </Link>\r\n         </div>\r\n         <div style={{float: \"left\"}}>\r\n          <div style={{fontSize: \"1rem\", lineHeight: \"110%\", padding:\"2px\", fontWeight: \"600\", marginTop: \"5px\"}}>{post.postedBy.name}</div>\r\n          <div style={{fontSize: \"1rem\", lineHeight: \"110%\", padding:\"2px\"}}>{moment(post.createdAt).utcOffset(\"+05:30\").fromNow()} <i className = \"tiny material-icons\">public</i></div>\r\n        </div>\r\n        <div>{post.postedBy._id == state._id\r\n             && <span style = {{float: \"right\", marginTop: \"10px\"}}><Link style = {{float: \"right\"}} to = {\"/update-post/\" + post._id}><i className = \"material-icons\" style={{cursor:\"pointer\"}}>edit</i></Link>\r\n             <i className = \"material-icons\" style={{cursor:\"pointer\"}} onClick = {() => {deletePost(post._id)}}>delete</i></span>}\r\n        </div>\r\n    </div>\r\n\r\n        <div className = \"card-image\">\r\n          <img src = {post.photo} />\r\n        </div>\r\n        <div className = \"card-content\">\r\n        <i className = \"material-icons\" style = {{color:\"red\"}}>favorite</i>\r\n        {post.likes.includes(state._id)\r\n        ? <i className = \"material-icons\" style={{cursor:\"pointer\"}} onClick = {() => {unlikePost(post._id)}}>thumb_down</i>\r\n        : <i className = \"material-icons\" style={{cursor:\"pointer\"}} onClick = {() => {likePost(post._id)}}>thumb_up</i>\r\n        }\r\n          <h6>{post.likes.length} likes. {post.comments.length} comments</h6>\r\n          <h5>{post.title}</h5>\r\n          <p>{post.body}</p>\r\n          <form onSubmit = {(e) => {\r\n            e.preventDefault()\r\n            postComment(e.target[0].value, post._id)\r\n          }}>\r\n            <input type = \"text\" placeholder = \"comment on this post\" autoFocus required/>\r\n          </form>\r\n\r\n          {\r\n            post.comments.map(comment => {\r\n              return (\r\n                <h6 key={comment._id}><span style = {{fontWeight: \"500\"}}>{comment.postedBy.name} : </span> {comment.text}\r\n                {comment.postedBy._id == state._id\r\n                && <i className = \"tiny material-icons\" style = {{color:\"red\", cursor:\"pointer\"}} onClick = {() => {deleteComment(post._id, comment._id)}}>delete</i>}</h6>\r\n              )\r\n            })\r\n          }\r\n\r\n        </div>\r\n      </div>\r\n\r\n        :\r\n\r\n      <div className=\"progress\">\r\n      <div className=\"indeterminate\"></div>\r\n      </div>\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ViewPost\r\n","export const initialState = null\r\n\r\nexport const reducer = (state, action) => {\r\n  if (action.type == \"USER\") {\r\n    return action.payload\r\n  }\r\n\r\n  if (action.type == \"CLEAR\") {\r\n    return null\r\n  }\r\n\r\n  if (action.type == \"UPDATE\") {\r\n    return {\r\n      ...state,\r\n      followers: action.payload.followers,\r\n      following: action.payload.following\r\n    }\r\n  }\r\n\r\n  if (action.type == \"UPDATEFAV\") {\r\n    return {\r\n      ...state,\r\n      favourites: action.payload.favourites\r\n    }\r\n  }\r\n\r\n  if (action.type == \"UPDATEPIC\") {\r\n    return {\r\n      ...state,\r\n      pic: action.payload\r\n    }\r\n  }\r\n  return state\r\n}\r\n","import React,{useEffect, createContext, useReducer, useContext} from 'react';\nimport NavBar from './components/Navbar'\nimport Footer from './components/Footer'\nimport \"./App.css\"\nimport {BrowserRouter, Route, Switch, useHistory} from 'react-router-dom'\nimport Home from './components/screens/Home'\nimport Profile from './components/screens/Profile'\nimport Signin from './components/screens/Signin'\nimport Signup from './components/screens/Signup'\nimport CreatePost from './components/screens/CreatePost'\nimport UserProfile from './components/screens/UserProfile'\nimport UpdatePost from './components/screens/UpdatePost'\nimport MyFeed from './components/screens/myFeed'\nimport ViewPost from './components/screens/ViewPost'\nimport {reducer, initialState} from './reducers/userReducer'\n\nexport const UserContext = createContext()\n\nconst Routing = () => {\n  const history = useHistory()\n  const {state, dispatch} = useContext(UserContext)\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if (user) {\n      dispatch({type: \"USER\", payload: user})\n    }\n    else {\n      history.push('/signin')\n    }\n  }, [])\n  return (\n    <Switch>\n    <Route exact path = \"/\">\n      <Home />\n    </Route>\n    <Route path = \"/signin\">\n      <Signin />\n    </Route>\n    <Route path = \"/signup\">\n      <Signup />\n    </Route>\n    <Route exact path = \"/profile\">\n      <Profile />\n    </Route>\n    <Route path = \"/create-post\">\n      <CreatePost />\n    </Route>\n    <Route path = \"/update-post/:postId\">\n      <UpdatePost />\n    </Route>\n    <Route path = \"/myfeed\">\n      <MyFeed />\n    </Route>\n    <Route path = \"/viewpost/:postId\">\n      <ViewPost />\n    </Route>\n    <Route path = \"/profile/:userId\">\n      <UserProfile />\n    </Route>\n    </Switch>\n  )\n}\n\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  return (\n    <UserContext.Provider value = {{state, dispatch}}>\n    <BrowserRouter>\n      <NavBar />\n      <Routing />\n      <Footer />\n    </BrowserRouter>\n    </UserContext.Provider>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}